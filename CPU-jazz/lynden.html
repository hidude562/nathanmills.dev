<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L-System Rhythm Generator</title>
<script>
// Define the L-system rules
const rules = {
    'N': ['N N', 'N R'],
    'R': ['R R', 'R _'],
    '_': ['N'],
    '>': ['N >'],
    '<': ['N <'],
    'S': ['S N R N E', 'S N < N > N E'],
    'E': ['E'],
    '(': ['( N N N )'],
    ')': [')'],
    '+': ['N +']
};

// Define the axiom
let axiom = 'S N > N R N < N E';
let iterations = 5; // Number of iterations to apply the rules

// Apply the production rules to generate the rhythm pattern
function generateRhythm(axiom, rules, iterations) {
    let currentString = axiom;

    for (let i = 0; i < iterations; i++) {
        let newString = '';
        for (const char of currentString) {
            if (rules[char]) {
                // Randomly choose one of the possible productions
                newString += rules[char][Math.floor(Math.random() * rules[char].length)] + ' ';
            } else {
                newString += char + ' ';
            }
        }
        currentString = newString.trim();
    }

    return currentString;
}

// Function to display the generated rhythm pattern
function displayRhythm() {
    const rhythm = generateRhythm(axiom, rules, iterations);
    console.log(rhythm)
	//document.getElementById('rhythmOutput').textContent = rhythm;
}

// Run the display function on window load
window.onload = displayRhythm;
</script>
</head>